<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Run First | RUN_FIRST_SETUP</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Run First | RUN_FIRST_SETUP" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Run First | RUN_FIRST_SETUP" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Yihui Xie" />


<meta name="date" content="2024-01-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistical-hypothesis-testing---the-classical-approach.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">WBS DBA Quantitative Methods</li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction and Orientation</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Describing the World With Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#box-plots"><i class="fa fa-check"></i><b>2.1</b> Box Plots</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#violin-plots"><i class="fa fa-check"></i><b>2.2</b> Violin Plots</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#describing-variables-and-distributions"><i class="fa fa-check"></i><b>2.3</b> Describing Variables and Distributions</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#transformations"><i class="fa fa-check"></i><b>2.4</b> Transformations</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="assoc_rel.html"><a href="assoc_rel.html"><i class="fa fa-check"></i><b>3</b> Associations and Relationships</a></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a>
<ul>
<li class="chapter" data-level="4.1" data-path="methods.html"><a href="methods.html#math-example"><i class="fa fa-check"></i><b>4.1</b> math example</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a>
<ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html"><i class="fa fa-check"></i><b>7</b> Statistical Hypothesis Testing - The Classical Approach</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#premier-league-goals-and-the-poisson-distribution"><i class="fa fa-check"></i><b>7.1</b> Premier League Goals and the Poisson Distribution</a></li>
<li class="chapter" data-level="7.2" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#correlation-significance-tests"><i class="fa fa-check"></i><b>7.2</b> Correlation Significance Tests</a></li>
<li class="chapter" data-level="7.3" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#regression-significance-tests"><i class="fa fa-check"></i><b>7.3</b> Regression Significance Tests</a></li>
<li class="chapter" data-level="7.4" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#anova"><i class="fa fa-check"></i><b>7.4</b> ANOVA</a></li>
<li class="chapter" data-level="7.5" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#rate-of-change-in-football-goals-per-season---bonferroni-correction"><i class="fa fa-check"></i><b>7.5</b> Rate of Change in Football Goals per Season - Bonferroni Correction?</a></li>
<li class="chapter" data-level="7.6" data-path="statistical-hypothesis-testing---the-classical-approach.html"><a href="statistical-hypothesis-testing---the-classical-approach.html#statistical-power"><i class="fa fa-check"></i><b>7.6</b> Statistical Power</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="run-first.html"><a href="run-first.html"><i class="fa fa-check"></i><b>8</b> Run First</a>
<ul>
<li class="chapter" data-level="8.1" data-path="run-first.html"><a href="run-first.html#lesson-2"><i class="fa fa-check"></i><b>8.1</b> Lesson 2</a></li>
<li class="chapter" data-level="8.2" data-path="run-first.html"><a href="run-first.html#lesson-7"><i class="fa fa-check"></i><b>8.2</b> Lesson 7</a></li>
<li class="chapter" data-level="8.3" data-path="run-first.html"><a href="run-first.html#box-plots-1"><i class="fa fa-check"></i><b>8.3</b> Box Plots</a></li>
<li class="chapter" data-level="8.4" data-path="run-first.html"><a href="run-first.html#violin-plots-1"><i class="fa fa-check"></i><b>8.4</b> Violin Plots</a></li>
<li class="chapter" data-level="8.5" data-path="run-first.html"><a href="run-first.html#describing-variables-and-distributions-1"><i class="fa fa-check"></i><b>8.5</b> Describing Variables and Distributions</a></li>
<li class="chapter" data-level="8.6" data-path="run-first.html"><a href="run-first.html#transformations-1"><i class="fa fa-check"></i><b>8.6</b> Transformations</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RUN_FIRST_SETUP</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="run-first" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Run First<a href="run-first.html#run-first" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this code, we install all the libraries required to create the DBA Quant Book we need to run these each time we load R to code the book.</p>
<p>Eventually this will be tidied up and duplicates removed, and packages standardized across lessons (e.g. later lessons use things like rstatix and skimr which would help earlier lessons too). For now, let’s just get the whole thing done.</p>
<div id="lesson-2" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Lesson 2<a href="run-first.html#lesson-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="run-first.html#cb152-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb152-2"><a href="run-first.html#cb152-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb152-3"><a href="run-first.html#cb152-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb152-4"><a href="run-first.html#cb152-4" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb152-5"><a href="run-first.html#cb152-5" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb152-6"><a href="run-first.html#cb152-6" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb152-7"><a href="run-first.html#cb152-7" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span></code></pre></div>
</div>
<div id="lesson-7" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Lesson 7<a href="run-first.html#lesson-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>

<p>First, we load up some data to look at. We’ll begin by looking at some COVID data. Here is some data from Johns Hopkins University as at April 26 2022 by country about cases, deaths, and mortality for COVID. I’m going to use the top 20 countries in terms of raw number of cases</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="run-first.html#cb153-1" tabindex="-1"></a>COVID <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/COVID.xlsx&quot;</span>,<span class="at">sheet =</span> <span class="st">&quot;Top 20&quot;</span>)</span></code></pre></div>
<p>So, to demonstrate how we can easily change people’s views of a data set, let’s run some bar charts:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="run-first.html#cb154-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(NAME,S_RATE))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<p>That’s ugly. We could change the orientation of the labels, but it’s easier to change the orientation of the bars…</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="run-first.html#cb155-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(NAME,S_RATE))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>)<span class="sc">+</span><span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<p>That’s nice. The basic conclusion we can draw is everyone is pretty much the same in terms of survival rate, although Mexico is a bit down.</p>
<p>Interestingly, it seems to me that the variation is more pronounced in this presentation where you look ‘down’ a line of results, than above where you look across.</p>
<p>Anyway, if I wanted to make everyone think that COVID survival rates were really different, there’s a simple trick I could use:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="run-first.html#cb156-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(NAME,S_RATE))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&quot;identity&quot;</span>)<span class="sc">+</span><span class="fu">coord_flip</span>(<span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">90</span>,<span class="dv">100</span>))</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>Wow, how do you like that! What’s different?</p>
<p>Changing the scale of the axis is an old trick, and when used to manipulate opinion it’s a bad thing. However, there is a case to say we need to know what we want to say, before we decide how to say it. When does ‘making sure we see the right message’ move into ‘outright manipulation / misrepresentation?’.</p>
<p>Here’s another common way this type of data is presented in media and non-scientific reports:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="run-first.html#cb157-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(NAME,S_RATE, <span class="at">group=</span><span class="dv">1</span>))<span class="sc">+</span><span class="fu">geom_line</span>()<span class="sc">+</span><span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<p>or a variant:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="run-first.html#cb158-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(NAME,S_RATE, <span class="at">group=</span><span class="dv">1</span>))<span class="sc">+</span><span class="fu">geom_step</span>()<span class="sc">+</span><span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>Technically, it’s wrong to present this data in a line chart, because it is discrete values and does not represent a trend, but it is surprisingly common - probably because it ‘looks more sciency’…</p>
<p>Ironically, there is some logic behind using line charts with this sort of data, depending on what you are trying to get across - let’s move to excel to demonstrate…</p>
<p>While we’re at it, we’ll also look at pie charts…</p>
<p><strong><em>Back to slide deck…</em></strong></p>
</div>
<div id="box-plots-1" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Box Plots<a href="run-first.html#box-plots-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="run-first.html#cb159-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID, <span class="fu">aes</span>( <span class="at">y=</span>CASES))<span class="sc">+</span><span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-68-1.png" width="672" /></p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="run-first.html#cb160-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID, <span class="fu">aes</span>(CASES))<span class="sc">+</span><span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="run-first.html#cb161-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>CASES))<span class="sc">+</span><span class="fu">geom_boxplot</span>()<span class="sc">+</span><span class="fu">geom_jitter</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">0.4</span>, <span class="at">alpha=</span><span class="fl">0.9</span>)</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="run-first.html#cb162-1" tabindex="-1"></a><span class="fu">ggplot</span>(COVID,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>DEATHS))<span class="sc">+</span><span class="fu">geom_boxplot</span>()<span class="sc">+</span><span class="fu">geom_jitter</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">0.4</span>, <span class="at">alpha=</span><span class="fl">0.9</span>)</span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<p>Interesting stuff, just from the box plot. But, while box plots are nice, they can also obscure stuff. Adding the jitter helps, but there are other ways to display this type of data.</p>
</div>
<div id="violin-plots-1" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Violin Plots<a href="run-first.html#violin-plots-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="run-first.html#cb163-1" tabindex="-1"></a><span class="co"># create a dataset</span></span>
<span id="cb163-2"><a href="run-first.html#cb163-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb163-3"><a href="run-first.html#cb163-3" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&quot;A&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;C&quot;</span>,<span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">100</span>)  ),</span>
<span id="cb163-4"><a href="run-first.html#cb163-4" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>( <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">10</span>, <span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">13</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">18</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">4</span>), <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">12</span>, <span class="dv">1</span>) )</span>
<span id="cb163-5"><a href="run-first.html#cb163-5" tabindex="-1"></a>)</span>
<span id="cb163-6"><a href="run-first.html#cb163-6" tabindex="-1"></a></span>
<span id="cb163-7"><a href="run-first.html#cb163-7" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb163-8"><a href="run-first.html#cb163-8" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb163-9"><a href="run-first.html#cb163-9" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">fill=</span>name)) <span class="sc">+</span></span>
<span id="cb163-10"><a href="run-first.html#cb163-10" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb163-11"><a href="run-first.html#cb163-11" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) </span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
<p>Let’s add jitter:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="run-first.html#cb164-1" tabindex="-1"></a><span class="co"># create a dataset</span></span>
<span id="cb164-2"><a href="run-first.html#cb164-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb164-3"><a href="run-first.html#cb164-3" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&quot;A&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;C&quot;</span>,<span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">100</span>)  ),</span>
<span id="cb164-4"><a href="run-first.html#cb164-4" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>( <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">10</span>, <span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">13</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">18</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">4</span>), <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">12</span>, <span class="dv">1</span>) )</span>
<span id="cb164-5"><a href="run-first.html#cb164-5" tabindex="-1"></a>)</span>
<span id="cb164-6"><a href="run-first.html#cb164-6" tabindex="-1"></a></span>
<span id="cb164-7"><a href="run-first.html#cb164-7" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb164-8"><a href="run-first.html#cb164-8" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb164-9"><a href="run-first.html#cb164-9" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">fill=</span>name)) <span class="sc">+</span></span>
<span id="cb164-10"><a href="run-first.html#cb164-10" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb164-11"><a href="run-first.html#cb164-11" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb164-12"><a href="run-first.html#cb164-12" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">0.4</span>, <span class="at">alpha=</span><span class="fl">0.9</span>) </span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>Well, look at that. B has a bimodal distribution…</p>
<p>Lets look at the violin plot to emphasize this:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="run-first.html#cb165-1" tabindex="-1"></a><span class="co"># create a dataset</span></span>
<span id="cb165-2"><a href="run-first.html#cb165-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb165-3"><a href="run-first.html#cb165-3" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&quot;A&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;C&quot;</span>,<span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">100</span>)  ),</span>
<span id="cb165-4"><a href="run-first.html#cb165-4" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>( <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">10</span>, <span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">13</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">18</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">4</span>), <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">12</span>, <span class="dv">1</span>) )</span>
<span id="cb165-5"><a href="run-first.html#cb165-5" tabindex="-1"></a>)</span>
<span id="cb165-6"><a href="run-first.html#cb165-6" tabindex="-1"></a></span>
<span id="cb165-7"><a href="run-first.html#cb165-7" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb165-8"><a href="run-first.html#cb165-8" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb165-9"><a href="run-first.html#cb165-9" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>name, <span class="at">y=</span>value, <span class="at">fill=</span>name)) <span class="sc">+</span></span>
<span id="cb165-10"><a href="run-first.html#cb165-10" tabindex="-1"></a>    <span class="fu">geom_violin</span>() <span class="sc">+</span></span>
<span id="cb165-11"><a href="run-first.html#cb165-11" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>, <span class="at">alpha=</span><span class="fl">0.6</span>) </span></code></pre></div>
<p><img src="DBA_files/figure-html/unnamed-chunk-74-1.png" width="672" /></p>
<p>Neat!</p>
<p>Another way to visualize this is with ‘ridges’, which basically compare the densities of variables together:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="run-first.html#cb166-1" tabindex="-1"></a><span class="co"># create a dataset</span></span>
<span id="cb166-2"><a href="run-first.html#cb166-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb166-3"><a href="run-first.html#cb166-3" tabindex="-1"></a>  <span class="at">name=</span><span class="fu">c</span>( <span class="fu">rep</span>(<span class="st">&quot;A&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;B&quot;</span>,<span class="dv">500</span>), <span class="fu">rep</span>(<span class="st">&quot;C&quot;</span>,<span class="dv">20</span>), <span class="fu">rep</span>(<span class="st">&#39;D&#39;</span>, <span class="dv">100</span>)  ),</span>
<span id="cb166-4"><a href="run-first.html#cb166-4" tabindex="-1"></a>  <span class="at">value=</span><span class="fu">c</span>( <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">10</span>, <span class="dv">5</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">13</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">500</span>, <span class="dv">18</span>, <span class="dv">1</span>), <span class="fu">rnorm</span>(<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">4</span>), <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">12</span>, <span class="dv">1</span>) )</span>
<span id="cb166-5"><a href="run-first.html#cb166-5" tabindex="-1"></a>)</span>
<span id="cb166-6"><a href="run-first.html#cb166-6" tabindex="-1"></a></span>
<span id="cb166-7"><a href="run-first.html#cb166-7" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb166-8"><a href="run-first.html#cb166-8" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb166-9"><a href="run-first.html#cb166-9" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>value, <span class="at">y=</span>name, <span class="at">fill=</span>name)) <span class="sc">+</span></span>
<span id="cb166-10"><a href="run-first.html#cb166-10" tabindex="-1"></a>    <span class="fu">geom_density_ridges</span>()</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 1.03</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<p>Cool. This brings us to the idea of….</p>
</div>
<div id="describing-variables-and-distributions-1" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Describing Variables and Distributions<a href="run-first.html#describing-variables-and-distributions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s load up some more data. Here’s some GDP per head data from the World Bank:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="run-first.html#cb168-1" tabindex="-1"></a>GDP <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;Data/2020GDP.xls&quot;</span>,<span class="at">sheet =</span> <span class="st">&quot;Data&quot;</span>)</span></code></pre></div>
<p>We have a number of choices as to what to do here, but the first thing we might do is plot a histogram with the data:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="run-first.html#cb169-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP, <span class="fu">aes</span>(<span class="at">x=</span>GDP2020))<span class="sc">+</span><span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick
## better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values (`stat_bin()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>We can change the ‘width’ of the bars with the Binwidth operator:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="run-first.html#cb172-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP, <span class="fu">aes</span>(<span class="at">x=</span>GDP2020))<span class="sc">+</span><span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">10000</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values (`stat_bin()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>And, we can overlay a density distribution on it:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="run-first.html#cb174-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP, <span class="fu">aes</span>(<span class="at">x=</span>GDP2020))<span class="sc">+</span><span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="dv">10000</span>, <span class="fu">aes</span> (<span class="at">y=</span>..density..), <span class="at">colour=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb174-2"><a href="run-first.html#cb174-2" tabindex="-1"></a> <span class="fu">geom_density</span>(<span class="at">alpha=</span>.<span class="dv">2</span>, <span class="at">fill=</span><span class="st">&quot;#FF6666&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values (`stat_bin()`).</code></pre>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_density()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<p>So, here we have some idea of the distribution. It’s clearly skewed quite heavily, with some outliers at the high end. Let’s summarize this with some numbers:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="run-first.html#cb177-1" tabindex="-1"></a><span class="fu">summary</span>(GDP<span class="sc">$</span>GDP2020)</span></code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA&#39;s 
##    233.8   2127.5   6117.5  15162.6  18072.4 173688.2       15</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="run-first.html#cb179-1" tabindex="-1"></a><span class="fu">descr</span>(GDP,</span>
<span id="cb179-2"><a href="run-first.html#cb179-2" tabindex="-1"></a>  <span class="at">headings =</span> <span class="cn">FALSE</span>, <span class="co"># remove headings</span></span>
<span id="cb179-3"><a href="run-first.html#cb179-3" tabindex="-1"></a>  <span class="at">stats =</span> <span class="st">&quot;common&quot;</span> <span class="co"># most common descriptive statistics</span></span>
<span id="cb179-4"><a href="run-first.html#cb179-4" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Non-numerical variable(s) ignored: Country Name</code></pre>
<pre><code>## 
##                     GDP2020
## --------------- -----------
##            Mean    15162.61
##         Std.Dev    22146.53
##             Min      233.84
##          Median     6117.49
##             Max   173688.19
##         N.Valid      251.00
##       Pct.Valid       94.36</code></pre>
<p>Let’s chat about these for a bit…</p>
<p><strong><em>Back to slide deck</em></strong></p>
</div>
<div id="transformations-1" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Transformations<a href="run-first.html#transformations-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="run-first.html#cb182-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>GDP2020))<span class="sc">+</span><span class="fu">geom_boxplot</span>()<span class="sc">+</span><span class="fu">geom_jitter</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">0.4</span>, <span class="at">alpha=</span><span class="fl">0.9</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_boxplot()`).</code></pre>
<pre><code>## Warning: Removed 15 rows containing missing
## values (`geom_point()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
<p>As you can see, the data is heavily skewed, or ‘squished’ towards the bottom. This makes it hard to see any patterns by eye.</p>
<p>We can make it easier to interpret by <em>transforming the variable</em>. Here, using a logarithmic transform.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="run-first.html#cb185-1" tabindex="-1"></a>GDP<span class="sc">$</span>GDP2020LOG <span class="ot">&lt;-</span><span class="fu">log</span>(GDP<span class="sc">$</span>GDP2020)</span></code></pre></div>
<p>Let’s run the box again:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="run-first.html#cb186-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>GDP2020LOG))<span class="sc">+</span><span class="fu">geom_boxplot</span>()<span class="sc">+</span><span class="fu">geom_jitter</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="fl">0.4</span>, <span class="at">alpha=</span><span class="fl">0.9</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_boxplot()`).</code></pre>
<pre><code>## Warning: Removed 15 rows containing missing
## values (`geom_point()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-84-1.png" width="672" /></p>
<p>Nice, see how the spread is easier to interpret here? Log transforms are essentially ‘inverse exponentials’, so what they do is bring down extreme high outliers.</p>
<p>Let’s see this in some more plots:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="run-first.html#cb189-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP, <span class="fu">aes</span>(<span class="at">x=</span>GDP2020LOG))<span class="sc">+</span><span class="fu">geom_histogram</span>(<span class="at">binwidth=</span><span class="fl">0.5</span>, <span class="fu">aes</span> (<span class="at">y=</span>..density..), <span class="at">colour=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb189-2"><a href="run-first.html#cb189-2" tabindex="-1"></a> <span class="fu">geom_density</span>(<span class="at">alpha=</span>.<span class="dv">2</span>, <span class="at">fill=</span><span class="st">&quot;#FF6666&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values (`stat_bin()`).</code></pre>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_density()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="run-first.html#cb192-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>GDP2020LOG))<span class="sc">+</span><span class="fu">geom_violin</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_ydensity()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<p>Compare the violin of the log transformed variable with the original:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="run-first.html#cb194-1" tabindex="-1"></a><span class="fu">ggplot</span>(GDP,<span class="fu">aes</span>(<span class="at">x=</span><span class="st">&quot;&quot;</span>, <span class="at">y=</span>GDP2020))<span class="sc">+</span><span class="fu">geom_violin</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 15 rows containing
## non-finite values
## (`stat_ydensity()`).</code></pre>
<p><img src="DBA_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<p>In fact, we can use the log transform to revisit some of our COVID data back in EXCEL…</p>

</div>
</div>










            </section>

          </div>
        </div>
      </div>
<a href="statistical-hypothesis-testing---the-classical-approach.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/RUN_FIRST_SETUP.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DBA.pdf", "DBA.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
